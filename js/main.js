!function(e){e(window).scroll(function(){e(window).scrollTop()>100?e(".main_h").addClass("sticky"):e(".main_h").removeClass("sticky")}),e(".mobile-toggle").click(function(){e(".main_h").hasClass("open-nav")?e(".main_h").removeClass("open-nav"):e(".main_h").addClass("open-nav")}),e(".main_h li a").click(function(){e(".main_h").hasClass("open-nav")&&(e(".navigation").removeClass("open-nav"),e(".main_h").removeClass("open-nav"))}),e("#siteNav a").click(function(o){var a=e(this).attr("href"),t=e(a).offset().top-70;e("html, body").animate({scrollTop:t},500),o.preventDefault()});var o=new ScrollMagic.Controller;console.log(o);var a=["#slide01","#slide02","#slide03"],t=0,n=e(".bcg").length,s=0;e(".bcg").imagesLoaded({background:!0}).progress(function(e,o){s=++t/n,TweenLite.to(r,.7,{progress:s,ease:Linear.easeNone})});var r=new TimelineMax({paused:!0,onUpdate:function(){s=Math.round(100*r.progress()),e(".txt-perc").text(s+"%")},onComplete:function(){var o=new TimelineMax;return o.to(e(".progress"),.3,{y:100,autoAlpha:0,ease:Back.easeIn}).to(e(".txt-perc"),.3,{y:100,autoAlpha:0,ease:Back.easeIn},.1).set(e("body"),{className:"-=is-loading"}).set(e("#intro"),{className:"+=is-loaded"}).to(e("#preloader"),.7,{yPercent:100,ease:Power4.easeInOut}).set(e("#preloader"),{className:"+=is-hidden"}).from(e("#intro .title"),1,{autoAlpha:0,ease:Power1.easeOut},"-=0.2").from(e("#intro p"),.7,{autoAlpha:0,ease:Power1.easeOut},"+=0.2").from(e(".scroll-hint"),.3,{y:-20,autoAlpha:0,ease:Power1.easeOut},"+=0.1"),o}});if(r.to(e(".progress span"),1,{width:100,ease:Linear.easeNone}),!Modernizr.touch){["#slide01 header","#slide02 header","#slide03 header"].forEach(function(e,a){var t=a+1;new ScrollMagic.Scene({triggerElement:e,offset:-95}).setClassToggle("#slide0"+t,"is-active").addTo(o)}),["#cb01","#cb02","#cb03"].forEach(function(a,t){var n=e(a).attr("id");new ScrollMagic.Scene({triggerElement:a,triggerHook:.75}).setClassToggle("#"+n,"is-active").on("enter",function(o){e("#homeNav").attr("class","is-light")}).addTo(o)}),a.forEach(function(a,t){new ScrollMagic.Scene({triggerElement:a}).on("enter",function(o){e("#homeNav").removeAttr("class")}).addTo(o)}),a.forEach(function(o,a){console.log(e(o).scrollTop())}),a.forEach(function(a,t){var n=e(a).find(".bcg");new ScrollMagic.Scene({triggerElement:a,triggerHook:1,duration:"100%"}).setTween(TweenMax.from(n,1,{y:"-40%",autoAlpha:.3,ease:Power0.easeNone})).addTo(o)});var i=new TimelineMax;i.to(e("#intro header, .scrollFhint"),.2,{autoAlpha:0,ease:Power1.easeNone}).to(e("#intro"),.7,{autoAlpha:.5,ease:Power1.easeNone},0);new ScrollMagic.Scene({triggerElement:"#intro",triggerHook:0,duration:"100%"}).setTween(i).addTo(o);var l=new TimelineMax;l.to(e("#slide01 h1"),.2,{autoAlpha:0,ease:Power1.easeNone},1.5).to(e("#slide01 section"),.2,{autoAlpha:0,ease:Power1.easeNone},1.5).set(e("#slide01 h1"),{text:"Placeholder content"}).set(e("#slide01 p"),{text:"Placeholder content"}).fromTo(e("#slide01 h1"),.7,{y:"+=20"},{y:0,autoAlpha:1,ease:Power1.easeOut},"+=0.4").fromTo(e("#slide01 section"),.6,{y:"+=20"},{y:0,autoAlpha:1,ease:Power1.easeOut},"-=0.6").set(e("#slide01 h1"),{autoAlpha:1},"+=2");new ScrollMagic.Scene({triggerElement:"#slide01",triggerHook:0,duration:"250%"}).setPin("#slide01").setTween(l).addTo(o);var c=new TimelineMax;c.to(e("#slide02 h1"),.2,{autoAlpha:0,ease:Power1.easeNone},1.5).to(e("#slide02 section"),.2,{autoAlpha:0,ease:Power1.easeNone},1.5).set(e("#slide02 h1"),{text:"Placeholder content"}).set(e("#slide02 p"),{text:"Placeholder content"}).to(e("#slide02 .bcg"),.6,{scale:1.2,transformOrigin:"0% 0%",ease:Power0.easeNone}).fromTo(e("#slide02 h1"),.7,{y:"+=20"},{y:0,autoAlpha:1,ease:Power1.easeOut},"+=0.4").fromTo(e("#slide02 section"),.6,{y:"+=20"},{y:0,autoAlpha:1,ease:Power1.easeOut},"-=0.6").set(e("#slide02 h1"),{autoAlpha:1},"+=2.5");new ScrollMagic.Scene({triggerElement:"#slide02",triggerHook:0,duration:"300%"}).setPin("#slide02").setTween(c).addTo(o),new ScrollMagic.Scene({triggerElement:"#slide03",triggerHook:"0",duration:"150%"}).setPin("#slide03").addTo(o);o.scrollTo(function(e){TweenMax.to(window,1,{scrollTo:{y:e},ease:Power1.easeInOut})}),e(document).on("click","a[href^='#']",function(a){var t=e(this).attr("href");e(t).length>0&&(a.preventDefault(),o.scrollTo(t),window.history&&window.history.pushState&&history.pushState("",document.title,t))})}}(jQuery);